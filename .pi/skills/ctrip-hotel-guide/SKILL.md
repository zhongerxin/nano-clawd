---
name: ctrip-hotel-guide
description: 酒店住宿攻略与选房助手，重点使用携程（ctrip.com / m.ctrip.com）查询与整理酒店信息（价格区间、评分、位置、政策、房型差异），并输出可直接放入旅行攻略的「住宿」章节（推荐住哪、酒店清单、对比表、预订注意事项）。Use when user asks for 酒店推荐/住哪/住宿攻略/携程酒店查询/酒店对比/订房建议，或需要把携程酒店信息整理成攻略/表格。
---

# 目标

把“住哪里 + 订哪家 + 怎么订更稳”变成结构化输出。

约束：优先用 `webfetch` 读取携程页面；若页面强依赖 JS 或被反爬导致无法抓取，改用**用户提供的携程链接/页面截图/复制的酒店列表文本**完成整理，不要编造价格与评分。

# 工作流程

## 1) 先问清楚（尽量一次问完）

- 目的地：城市 + 行政区/商圈/景点（若不确定就问“主要活动范围/每天第一站？”）
- 日期：入住/退房（或住几晚）
- 人数：成人/儿童、房间数
- 预算：每晚含早/不含早的心理价位；是否接受加价
- 偏好：交通（地铁/打车）、亲子/情侣/商务、安静、健身房/泳池、可带宠物
- 硬约束：必须可免费取消/必须开票/必须有停车/必须可加床
- 会员：是否有携程会员/信用住（影响价格与权益）

输出前确认：**“你更看重位置还是房间品质？”**（用于取舍）

## 2) 在携程上收集信息（两种模式）

### 模式 A：可抓取（推荐）

1. 让用户给一个携程“酒店列表页”或“酒店详情页”的 URL（优先 `m.ctrip.com`）。
2. 用 `webfetch` 拉取页面文本。
3. 从页面中提取（至少 5 个字段）：
   - 酒店名
   - 位置（商圈/地铁/景点距离描述）
   - 评分与点评数
   - 价格（标明日期口径；若拿不到就写“需以携程实时为准”）
   - 关键政策：取消/预付/到店付、是否含早、入住退房时间
   - 特色标签：亲子、健身房、停车、近地铁等

### 模式 B：不可抓取/被拦截（稳定）

让用户任选其一提供材料，然后你负责结构化：
- 复制粘贴携程列表页前 10–20 家的“酒店名 + 价格 + 评分 + 位置简述”文本
- 提供 3–8 个候选酒店的携程链接（你只做对比总结，不强行抓取）
- 发截图（列表页/详情页）并说明日期与筛选条件

注意：任何无法从材料中确认的数字，必须标记为“未获取/以携程为准”。

## 3) 先做“住哪”建议（地段决策）

基于用户行程/偏好，把住宿区域拆成 2–4 个候选地段：
- 每个地段给：适合人群、通勤逻辑、潜在坑（噪音/交通/夜间安全/打车难）
- 明确推荐顺序：主选 / 备选

## 4) 再做酒店清单与对比（可落地预订）

- 给 3–8 家酒店：按“主推 3 家 + 备选若干”组织
- 用表格对比：价格（若有）、评分、位置、亮点、风险点、适合人群
- 每家写 3 条“为什么选它” + 2 条“可能的坑/需要确认”

风险点优先检查：
- 同名不同店/同集团分店（地址是否一致）
- 房型差异：无窗/暗窗/面积过小
- 取消政策（免费取消截止时间、是否需预付）
- 早餐人数与时间段
- 押金与发票

## 5) 输出“预订策略”

- 何时订：提前多久更稳；临近是否会涨（只给经验性建议）
- 筛选建议：优先筛“免费取消/到店付/可开发票”
- 入住当天：到店确认的 5 件事（房型、安静房、发票、早餐、延迟退房）

# 输出格式（默认）

按以下结构输出，便于直接粘到旅行攻略：

1. 住宿决策：住哪最合适（主选/备选地段）
2. 酒店推荐清单（主推/备选）
3. 酒店对比表（Markdown）
4. 预订与入住注意事项（清单）

更复杂的版式/HTML 生成：参考 `references/output-template.md`。

# 参考资料

- 携程 URL/查询与材料获取技巧：`references/ctrip-query-cheatsheet.md`
- 输出模板（表格字段与文案骨架）：`references/output-template.md`
